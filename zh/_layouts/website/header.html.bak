{% extends template.self %}
{% block book_header %}
<div class="book-my-header" role="navigation">
    <div role="navigation" aria-label="breadcrumbs navigation">
        <ul class="wy-breadcrumbs">
            <li><a href="#">Docs » </a></li>
            <li><a href="#">Sipeed 产品介绍 » </a></li>
            <li class="wy-breadcrumbs-aside"><a href="https://github.com/espressif/esp-idf/blob/master/docs/en/index.rst" class="fa fa-github"> Edit on GitHub</a></li>
        </ul>
    </div>
</div>
<script type="text/javascript">
// var str = ''
// document.querySelectorAll('li.expanded > a').forEach(function(item, index) {
//     var text = item.textContent.replace(/\s+/g, '')
//     if (document.querySelectorAll('li.expanded > a').length - 1 == index) {
//         str += '<li style="color: black;">' + text + '</li>'
//         return;
//     }
//     str += '<li><a href="#">' + text + ' » </a></li>'
// })
// str += '<li class="wy-breadcrumbs-aside">'
// str += '<a href="https://github.com/espressif/esp-idf/blob/master/docs/en/index.rst" class="fa fa-github"> Edit on GitHub</a>'
// str += '</li>'
// document.querySelector('.wy-breadcrumbs').innerHTML = str
// 
// 
var my_path = location.href
// console.log(document.querySelectorAll('li'))
var my_pathArr = my_path.substr(my_path.indexOf('/zh/')).split('/')
var str = ''
my_pathArr.forEach(function(item, index) {

    if (item === '') return;
    if (index < 3) return;
    if (my_pathArr.length - 1 == index) {
        str += '<li style="color: black;">' + item + '</li>'
        return;
    }
    str += '<li><a href=' + my_path.substr(0, my_path.indexOf(item) + item.length) + '>' + item + ' » </a></li>'
})
str += '<li class="wy-breadcrumbs-aside">'
str += '<a href="https://github.com/espressif/esp-idf/blob/master/docs/en/index.rst" class="fa fa-github"> Edit on GitHub</a>'
str += '</li>'
ulobj = document.querySelector('.wy-breadcrumbs').innerHTML = str

// window.onload = function(){
//     document.querySelectorAll('li').forEach(function(item) {
//     item.onclick = function() {
//         var str = ''
//         document.querySelectorAll('li.expanded > a').forEach(function(item, index) {
//             var text = item.textContent.replace(/\s+/g, '')
//             if (document.querySelectorAll('li.expanded > a').length - 1 == index) {
//                 str += '<li style="color: black;">' + text + '</li>'
//                 return;
//             }
//             str += '<li><a href="#">' + text + ' » </a></li>'
//         })
//         str += '<li class="wy-breadcrumbs-aside">'
//         str += '<a href="https://github.com/espressif/esp-idf/blob/master/docs/en/index.rst" class="fa fa-github"> Edit on GitHub</a>'
//         str += '</li>'
//         document.querySelector('.wy-breadcrumbs').innerHTML = str
//     }
// })
// }
</script>
{% endblock %}